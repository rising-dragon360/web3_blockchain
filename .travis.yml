language: java
jdk:
- openjdk8
sudo: false
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
install: skip
jobs:
  include:
  - stage: build master
    script:
    - export OSSRH_REPO_URL = ${SNAPSHOT_OSSRH_REPO_URL}
    - "./gradlew spotlessCheck"
    - "./gradlew check jacocoTestReport"
    - "./gradlew release --info"
    if: branch = master
after_success:
- bash <(curl -s https://codecov.io/bash)
env:
  matrix:
  - SNAPSHOT_OSSRH_REPO_URL: https://oss.sonatype.org/content/repositories/snapshots/
  - RELEASE_OSSRH_REPO_URL: https://oss.sonatype.org/service/local/staging/deploy/maven2
  - secure: Fa+JShyuEiuanzt9Le+FZENO5pxsXW6gQeB4BQ5k67RUNkEoD8JpVYd3W3E1Za/C1Y1xAowrDezVP5mwzlIGtdHzlqTjuWRReFFym8SgZHGwZKcfg6awKtClSxDusN7VUSl/VyQoIArmAyAyTjDiMOIjA3ByTMiQATb6GSYPSWRVqAI2rUemRkmD/FObCOixjxvFSUiz1elCjiKBHLrLYVFRWCmgpG3WD+OFkyrgC8iJ9CCsTGpusS4v55HeNoBZBPzF8uKIT1Nv1nzxulb/PfSRJwd9ZFJFX6TIC6t3jyX9NRQoPON1buw5bgs0cA6akkyILoVUBoQ0cteFsXaFAJn/6+gdnc11NHISx6aCJeC5O28LdRPWsqDwTAJMT0Ea4W3s/KuSo8cNC2zkYCn2oU3ElWctJ9GsA1CcVPIf8DVqVd+seyZ/DVOc91FyzZZwbXqLHH9c7LX+6l9jIyuvIdJW138S77uWEctEhTe5PJeSPud8FDZ7oEowKfbdbfhhgka7q8LvuwIEyU+nJGW+1t/U7OTp0/ihuDd2vjJh1gcmRHv9BXe2A6kziUKgE0YN9kZE/uCMA00cBATJBY4+ZUKaRS8odmyfQOZDYKZlcEQf7s+BNI90uH9X+y5Grzw8gCHymLqpw2cYdCOzWvxyxnW4IskTIeZ1YWkO1zUxBUU=
  - secure: mjKRPE6o0MgMQcYvJ013QVs5zzBGW/KBfsisNkgTBFZZywD3xRLlsh9x1IAMcXMbJQRyJ/FLAvCk5OHZJe+KbkvRWFvwBjdjQeR3UNsjecz0LuE7MwGKnQhBDQ6jsTyc6LGSwlfALuMp4tJwmazNDkz8IuENqfb3iGd+3GIgTIdTyLH3/lyd5rFqVq3Co32CItvMLVVTPnMj9+W4jN/6DEHQcbRlrf7P5xS+T21IgENe7LWl9PBm9w8fPRlG0hiVH0FS8WXzKEt9KYqQBl1VeXCKSmrgwSwcBhVac7tUqeWMKgS19kx/+eGz5tUckuK5+CWVFP5dik/GxDM+vT0UPfkWydK1DL+2iS17Dp1bm4/BP2HMpNTRP3exhLog85TmZPpCCgStbQBlFofd+iaVT61pa15V4hNJ4CzjO2BDeiDQJJtZaC6i1KrVoW1n0p4EOUUuQioqu7trEnPOgjvAGX+IPIXlq807FsvpqMNVWUD4tW18+HsE3Sj/3SRel+mJwQCLH8aYUAi68n5Oz9jb17XijzKqM7IIHd0a6Kj8PKyo7WFzmEQ6L21HsOZPNwCYMVt80YZOSt8AJ024Zn1Lf2EMOHOpzpMp7eEvV7ZrBsC+djD3r8erTh6OnzTs5hbg6xaUianp6Rm4EMwnQpFvm+61RroAjNM9ki95ahtiN4Y=
  - secure: MYlxQctyd7AhZbVnizuPcbWQe8xdENwCSy2QXzNnh16sn2guLWa8cdMruvcKtqgrMHb9NwjzrMvKn0FdUqMWyLq6AXkCkFxl/547+JcQzu1MEi5ga3nZgZsKeU9E+jo9TjQnK8pCrd/jYG40xsbmPbGBOpJxu1Gu1kGApucDPBp+oFSswQ1oJ5c7fqvMGcGZ9+6pOKfUepVlQZSHW9+WaLyvVupYRGIwYCtDS3SA2t4KOrH3Tq6vFt82j4XnGi6h47eaYlXkiGudOcgZ5g1yrAgFzSNEQg5YYbjn1W5A2y+xL7SZwLyzFxSTMSD04U/sFmxNgXuzeuZ1lmrqf2Pa1+peCyuwyk9IYH0IeFP++2p870kKzJ4KqjY8TGc59yMohVfMe7V8SGg150gwGMdy6M/kHmQUtmNOlZYtH/xHNiBAvo3SffsVpSQ7rZY2a/KTcY25ME9yqY6tYYdoKhL4AyNTyfz06z1VzYeATSf7pchGZRWsZElKQzjH0rHvmP7Y/t8aGB8tVH71biAFEFqfrSrYQncj00ao+IxDuBqftjmVOwOH2rcl+aqPYlPowv1xf4mzrnQ2FPwsfYlgUOa37ZI27v0pP1AqEjZqbZ1MSEYoW3UL7nuVhFSXV28KFBwtMwnCdB4O9HBxUx1n6kt7mSotfpVMjkg0ZCwxCB7itig=
  - secure: kGmFBaEBJWUouiIpBXt/9DwcYxkNhDhO7TrWPAu3WjhkaGUObG6qnUMnrC+FU4F4MZHJD8u6K+CyMGZQ2Ug3PcV7TFGYqLlIQ9i39tNOkN3Hq/Le/vhaYzAWF3mGzQE7rYSR5nNBHn3gCvRBUB4WiZo9QrwZvkLMbmtS6o5o5JbIPA4TYh5NHtgjFuULDTQhlRjsVED01eg3GYNnx28ncGPoabSaa3RJ+/nzTEPT27l1AgzlkQH2Txb2jOJLpRinC8msnSVpFWmqQMhZoGQQH10QLU0w/S1zBg3CcmVmo98yFWoT1pC4HdLGdhliax5L8HLWsQKrptIJh/6V+aU3ONMoh9naflhTHtbUM/UUu2AYoIMB5FVGn211dYrFRIofwcURfXeFswhIAbYV/DXR0wmS/yq3Iq52SFICElNtZfZRaKAKEl+WnP7v4BNM32CX0aA/EaColVWbvCstHgurFPWmEFfUUjc/GJh5eWvfxz9DS/94YhSSOYaUO9nrJytavPiwGM6JfKvwxuHE0y3r7Qd4kTqvx04wFTL1iCuR9Ty61VcHhIIbXBMYMm4Oz8UfK4t3+oXBDLytbSoL3T1oBg8LETZ9mEOI40jnPjEEh6b/S6nBN5VAgUfPKEPA94go6qMTt/c5KPDEL/R93RpoEa+OpBrbdMGT7hjFzo0ZK2U=
  - secure: tRcSxQn7NYib/9UA2ja8XTAVKEiFjJ6BlIut32NPE36PPjnpqy6p0beXKtZJM0DYh2eqYm6WWdtR5WWXFV9M1rGrDRcMRUsxbKG/hob9ONbrcyJMucQiDGGBoOEjSoM1ro2F7oSu2DdwDt1SBwvmP2dTvytRHjzRyxtmo01oj0bSHv4btM77BgUu1PzQRH4sYwaYJYDrVV9A3vYspXP/WSSYBPPP13Pf8B4prwfG28HZ4vjQGl2k2w70ZgFeWNwpyIlWKOrpozUtpcXC824qgQPkbNzamznkV2RDnSG1RFS53rsJD6MwXPbL88vMcd1YoGpBIuk5sXHLzJwI7U6gqI882jDGY7/SbJcLy8vd0PKCyIxR4JIbQ6SAaGW8K+y7USibuSQVFk7rFOJyLklJnUhMn2ms5fDZJTvTXc894aXd0XpFZZ/Q5blLQn4GOvIP5elIKPRJMRxRHnj9mrqtukFpj3571LSuQaj+eucRwfvb4aeLWOgBIZ7Wlx8NXCA1kp/cjCOAcfnGODDKgYe+KYVxKU1p79e56/BBcRXrRsT9jHk0fbLYm+KPtGyTcVUDyC/1tnuj1LPJXd/zPiStkw5s506zbE9CSuYc1/ImTYy2HPzWxftOpJ/WK3x8Q6tRJoAaQTwtu2n1JhVg4HoOoUcf2hOUQJOilrLx/dCnfl8=
  - secure: RVgKf5hgtgp+8VdscSUz1RIMpTj7Lwz+TiEyNbS/oCPxewUXadWyQU6O9lzH43f9C5h8Fc6wPYeIsGqm44lAy/VKUvHIq2qdLYRqFofpcDpcvjW9nuQwJRZbbFMeMMcSjY8RXhvVKkieb1MszVHWxboxA/UiZ5j0IfKsj3NcA6QH1YmLkM3kgLwFzWjqE225vTDQJwoo/qi1vuSlKVG4kGeISSuvBChl1d1wHARx/Hp6c3eXf2D9OaxcxQxmZN0Cn4VltnG/ut/EAP2KxbYpyuzmdxC8jm6n2AJnvbuwZMJkJ21XUX5jTipLh9p6lPqkb4nDO1Cci7g02/9Dh5nIoyQ82ibXFdXC52DMuJ7eo+QQXOBHgANr3oKTLZ9mbfSE8rfdwr+R1t/zss15/ITvXiInFi/8VTlO7BYobTTeSmiQDXVACiK5N4IzLn4kb7PagyEWauGXTTkGoIxlanCxDslkATJ5De4Kc1/kslHy92bHp5XgYtLLw1bD1rsSR+Pmb/Qnh5qyKLXK1PYkYgNO/2Cg2TcBxQVOvwWkDvlUVxEqUvB2i6aPpuClCjAQOnw5JE3e+T+9HMe3m103imanEwa69aJSPW/D/L/7X6SncxmGlM98DsSlN/ogh47MjiyNY6rbGknKeo0qzsNICGfDn2inaIHrVx//QLJ7RFXakHs=
